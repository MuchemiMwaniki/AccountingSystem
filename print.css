/* print.css */

/* Hide elements not needed for print */
@media print {
    /* General print settings for the body */
    body {
        background-color: #fff !important; /* White background for print */
        color: #000 !important; /* Black text for print */
        -webkit-print-color-adjust: exact; /* Ensure background colors are printed */
        print-color-adjust: exact;
        margin: 0; /* Remove body margin for full control */
        padding: 0;
        /* Force page size for A4 portrait, common for invoices */
        width: 210mm;
        min-height: 297mm;
        box-sizing: border-box; /* Include padding in width/height */
    }

    /* Hide elements that should never print */
    .app-container, /* The main app wrapper, hide if not invoice-display */
    .sidebar,
    .main-header .header-actions,
    .form-actions,
    .form-group label,
    .form-group input[type="file"],
    .add-item-btn,
    .remove-item-btn,
    .currency-selector,
    .user-profile i,
    .print-actions, /* Hide the print button itself */
    /* Hide specific sections that are not part of the invoice content */
    .dashboard-widgets,
    .recent-activity,
    .financial-summary {
        display: none !important;
    }

    /* Ensure the main content area for invoice display is visible and takes full width */
    .main-content {
        display: block !important; /* Ensure it's not hidden by a general rule */
        padding: 0 !important; /* Remove padding */
        margin: 0 !important;
        width: 100% !important; /* Full width */
        max-width: none !important; /* Override any max-width */
    }

    /* Specific adjustments for the invoice-container to ensure it prints well */
    .invoice-container {
        display: block !important; /* Ensure it's not hidden */
        box-shadow: none !important; /* Remove shadows for print */
        border: none !important; /* Remove borders */
        margin: 0 auto !important; /* Center on page, but remove external margins */
        padding: 15mm 15mm !important; /* Adjust padding for print margins */
        min-height: auto !important; /* Let content define height */
        width: 100% !important; /* Ensure it takes full width of the body */
        max-width: 210mm !important; /* Constrain to A4 width */
    }

    /* Header adjustments for print */
    .invoice-header {
        display: flex !important; /* Ensure flex layout */
        flex-direction: row !important; /* Keep logo and company info side-by-side */
        justify-content: space-between !important;
        align-items: flex-start !important;
        margin-bottom: 20px !important; /* Reduce margin */
    }
    .invoice-header .company-info {
        text-align: right !important;
        margin-top: 0 !important;
    }
    .invoice-header .logo {
        max-width: 120px !important; /* Adjust logo size for print */
        height: auto !important;
    }
    .invoice-header h1 {
        font-size: 1.5em !important; /* Adjust font size */
    }
    .invoice-header p {
        font-size: 0.8em !important; /* Adjust font size */
    }

    /* Invoice details and bill-to section */
    .invoice-details, .bill-to-section {
        display: flex !important;
        flex-direction: row !important; /* Keep side-by-side */
        justify-content: space-between !important;
        margin-bottom: 15px !important; /* Adjust margin */
        font-size: 0.9em !important; /* Adjust font size */
    }
    .invoice-details div, .bill-to-section div {
        width: 48% !important; /* Maintain two columns */
        margin-bottom: 0 !important;
    }
    .invoice-details h4, .bill-to-section h4 {
        font-size: 1em !important; /* Adjust font size */
        margin-bottom: 5px !important;
    }
    .invoice-details p, .bill-to-section p {
        margin: 2px 0 !important; /* Reduce line spacing */
    }

    /* --- Invoice Table Specific Adjustments for STACKED Print Layout --- */
    .invoice-table {
        width: 100% !important;
        border-collapse: collapse !important;
        margin-bottom: 20px !important; /* Adjust margin */
        font-size: 0.85em !important; /* Adjust font size */
        display: block !important; /* Make the table itself behave as a block */
    }

    .invoice-table thead {
        display: none !important; /* Hide the table header on print when stacking cells */
    }

    .invoice-table tbody {
        display: block !important; /* Make tbody behave as a block */
    }

    .invoice-table tr {
        display: block !important; /* Make each row behave as a block */
        margin-bottom: 10px !important; /* Add space between stacked rows */
        border: 1px solid #ccc !important; /* Add a border around each logical row */
        border-radius: 4px !important; /* Slightly rounded corners */
        padding: 8px !important; /* Padding within each row block */
        box-shadow: none !important; /* No shadows for print */
    }

    .invoice-table td {
        display: block !important; /* Make each cell behave as a block */
        width: 100% !important; /* Each cell takes full width of its row block */
        text-align: right !important; /* Align the value to the right */
        padding-left: 45% !important; /* Space for the pseudo-element label */
        position: relative !important; /* Needed for absolute positioning of ::before */
        border: none !important; /* Remove individual cell borders */
        padding-top: 2px !important; /* Adjust vertical padding */
        padding-bottom: 2px !important;
    }

    .invoice-table td::before {
        content: attr(data-label) !important; /* Display the data-label as a prefix */
        position: absolute !important;
        left: 8px !important; /* Position the label on the left */
        width: calc(45% - 16px) !important; /* Width for the label */
        padding-right: 8px !important;
        white-space: nowrap !important; /* Prevent label from wrapping */
        text-align: left !important; /* Align label to the left */
        font-weight: bold !important;
        color: #555 !important; /* Darker color for labels */
    }
    /* --- End Invoice Table Specific Adjustments --- */


    /* Invoice Summary adjustments */
    .invoice-summary {
        display: flex !important;
        justify-content: flex-end !important;
        margin-bottom: 20px !important; /* Adjust margin */
    }
    .invoice-summary .summary-details {
        width: 100% !important;
        max-width: 250px !important; /* Constrain summary width for print */
        border: 1px solid #ddd !important;
        border-radius: 0 !important; /* Remove rounded corners for print */
        padding: 10px !important;
        background-color: #f9f9f9 !important; /* Light background for summary */
        box-shadow: none !important;
    }
    .invoice-summary .summary-row {
        padding: 5px 0 !important;
        border-bottom: 1px dashed #e0e0e0 !important; /* Lighter dashed border */
    }
    .invoice-summary .summary-row.total {
        font-size: 1.1em !important;
        padding-top: 10px !important;
        margin-top: 5px !important;
        border-top: 2px solid #000 !important; /* Stronger border for total */
    }
    .invoice-summary .summary-row span:first-child {
        color: #000 !important; /* Ensure black text */
    }
    .invoice-summary .summary-row span:last-child {
        color: #000 !important; /* Ensure black text */
    }

    /* Payment terms adjustments */
    .payment-terms {
        margin-top: 20px !important; /* Adjust margin */
        font-size: 0.85em !important; /* Adjust font size */
        line-height: 1.4 !important; /* Adjust line height */
        color: #000 !important; /* Black text */
    }
    .payment-terms h4 {
        margin-bottom: 5px !important;
    }

    /* Remove browser default headers/footers (URLs, page numbers) */
    @page {
        size: A4 portrait; /* Set page size explicitly */
        margin: 0; /* Remove default browser margins */
    }
}
